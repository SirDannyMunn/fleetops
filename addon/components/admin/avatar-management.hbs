<div class="mb-4">
    <ContentPanel
        @title="Upload Avatar"
        @titleStatusRight={{this.orders.length}}
        @titleStatuRightClass="info-status-badge"
        @hideStatusDot={{true}}
        @open={{true}}
        @pad={{false}}
        @wrapperClass={{@wrapperClass}}
        @onInsert={{this.setupWidget}}
    >
        <div class="flex">
            <div class="flex flex-col w-1/2 border-r">
                <div class="p-5 border-b cursor-pointer hover:bg-blue-500" {{on "click" (fn this.selectCategory "vehicles")}}>Vehicles</div>
                <div class="p-5 border-b cursor-pointer hover:bg-blue-500" {{on "click" (fn this.selectCategory "places")}}>Places</div>
                <div class="p-5 cursor-pointer hover:bg-blue-500" {{on "click" (fn this.selectCategory "drivers")}}>Drivers</div>
            </div>
            <div class="flex flex-col w-1/2 p-1">
                {{#if this.isUploading}}
                    <div
                        class="dropzone w-full rounded-lg px-4 py-8 bg-gray-50 dark:bg-gray-900 bg-opacity-25 text-gray-900 dark:text-white text-center flex flex-col items-center justify-center border-2 border-dashed border-gray-200 dark:border-indigo-500"
                    >
                        <div class="flex items-center justify-center py-5">
                            <Spinner class="text-sm dar:text-gray-100" @loadingMessage={{t "fleet-ops.common.uploading"}} />
                        </div>
                    </div>
                {{else}}
                    {{#let (file-queue name="files" onFileAdded=this.queueFile accept=(join "," this.acceptedFileTypes)) as |queue|}}
                        <FileDropzone @queue={{queue}} class="dropzone file-dropzone" as |dropzone|>
                            {{#if dropzone.active}}
                                {{#if dropzone.valid}}
                                    {{t "component.dropzone.drop-to-upload"}}
                                {{else}}
                                    {{t "component.dropzone.invalid"}}
                                {{/if}}
                            {{else if queue.files.length}}
                                <div class="my-2">
                                    <FaIcon @icon="folder-open" class="text-indigo-500 mr-2" />
                                    {{t "component.dropzone.files-ready-for-upload" numOfFiles=(pluralize queue.files.length (t "component.dropzone.file"))}}
                                </div>
                                <div class="my-2">({{queue.progress}}%)</div>
                            {{else}}
                                <h4 class="font-semibold">
                                    <FaIcon @icon="folder-open" @size="lg" class="text-indigo-500 mr-2" />
                                    {{t "component.dropzone.upload-documents-files"}}
                                </h4>
                                <div>
                                    {{#if dropzone.supported}}
                                        <p class="text-sm my-5">{{t "component.dropzone.dropzone-supported-files"}}</p>
                                    {{/if}}
                                    <FileUpload @name="files" @for="files" @accept={{join "," this.acceptedFileTypes}} @multiple={{true}} @onFileAdded={{this.queueFile}}>
                                        <a tabindex={{0}} class="btn btn-magic cursor-pointer ml-1">{{t "component.dropzone.or-select-button-text"}}</a>
                                    </FileUpload>
                                </div>
                            {{/if}}
                        </FileDropzone>
                    {{/let}}
                {{/if}}
            </div>
        </div>
        {{#if this.avatar.files.length}}
            <div class="flex w-full h-auto border-t">
                <div class="grid grid-cols-7 gap-4 max-h-40 overflow-hidden">
                    {{#each this.avatar.files as |file|}}
                        <File @file={{file}} @onDelete={{this.removeFile}} />
                    {{/each}}
                </div>
            </div>
        {{/if}}
    </ContentPanel>
</div>
<div>
    <ContentPanel
        @title="View Avatar"
        @titleStatusRight={{this.orders.length}}
        @titleStatuRightClass="info-status-badge"
        @hideStatusDot={{true}}
        @open={{false}}
        @pad={{false}}
        @wrapperClass={{@wrapperClass}}
        @onInsert={{this.setupWidget}}
    >
        <div class="flex flex-row w-full">
            <div class="p-4 border-r cursor-pointer hover:bg-blue-500 flex-1" {{on "click" (fn this.selectCategory "vehicles")}}>Vehicles</div>
            <div class="p-4 border-r cursor-pointer hover:bg-blue-500 flex-1" {{on "click" (fn this.selectCategory "places")}}>Places</div>
            <div class="p-4 cursor-pointer hover:bg-blue-500 flex-1" {{on "click" (fn this.selectCategory "drivers")}}>Drivers</div>
        </div>
        {{#if this.selectedCategory}}
            <div class="flex w-full h-auto border-t">
                <div class="grid grid-cols-7 gap-4 max-h-40 overflow-hidden">
                    {{#each this.filteredFiles.files as |file|}}
                        <File @file={{file}} @onDelete={{this.removeFile}} />
                    {{/each}}
                </div>
            </div>
        {{/if}}
    </ContentPanel>
</div>